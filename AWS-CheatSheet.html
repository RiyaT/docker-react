<p><strong>updated 6-26-2020</strong></p><p>This lecture note is not intended to be a replacement for the videos, but to serve as a cheat sheet for students who want to quickly run thru the AWS configuration steps or easily see if they missed a step.&nbsp;It will also help navigate through the changes to the AWS&nbsp;UI since the course was recorded.</p><p>Tested with the new Platform without issue: Docker running on 64bit Amazon Linux 2/3.0.3</p><p><strong>Initial Setup</strong></p><p>1. Go to AWS Management Console</p><p>2. Search for Elastic Beanstalk in "Find Services"</p><p>3. Click the "Create Application" button</p><p>4. Enter "docker" for the Application Name</p><p>5. Scroll down to "Platform" and select "Docker" from the dropdown list. Leave the rest as defaults.</p><p>6. Click "Create Application"</p><p>7. You should see a green checkmark after some time.</p><p>8. Click the link above the checkmark for your application. This should open the application in your browser and display a Congratulations message.</p><p><strong>Change from Micro to Small instance type:</strong></p><p><em>Note that a t2.small is outside of the free tier. t2 micro has been known to timeout and fail during the build process.</em></p><p>1. In the left sidebar under Docker-env click "Configuration"</p><p>2. Find "Capacity" and click "Edit"</p><p>3. Scroll down to find the "Instance Type" and change from <em>t2.micro</em> to <em>t2.small</em></p><p>4. Click "Apply"</p><p>5. The message might say "No Data" or "Severe" in Health Overview before changing to "Ok"</p><p><strong>Add AWS configuration details to .travis.yml file's deploy script</strong></p><p>1. Set the <em>region</em>. The region code can be found by clicking the region in the toolbar next to your username.</p><p>eg: 'us-east-1'</p><p>2. <em>app</em> should be set to the Application Name (Step #4 in the Initial Setup above)</p><p>eg:&nbsp;'docker'</p><p>3. <em>env</em> should be set to the lower case of your Beanstalk Environment name.</p><p>eg: 'docker-env'</p><p>4. Set the <em>bucket_name</em>. This can be found by searching for the S3 Storage service. Click the link for the elasticbeanstalk bucket that matches your region code and copy the name.</p><p>eg: 'elasticbeanstalk-us-east-1-923445599289'</p><p>5. Set the <em>bucket_path</em> to 'docker'</p><p>6. Set <em>access_key_id</em> to $AWS_ACCESS_KEY</p><p>7. Set <em>secret_access_key</em> to $AWS_SECRET_KEY</p><p><strong>Create an IAM User</strong></p><p>1. Search for the "IAM Security, Identity &amp; Compliance Service"</p><p>2. Click "Create Individual IAM Users" and click "Manage Users"</p><p>3. Click "Add User"</p><p>4. Enter any name you’d like in the "User Name" field.</p><p>eg: docker-react-travis-ci</p><p>5. Tick the "Programmatic Access" checkbox</p><p>6. Click "Next:Permissions"</p><p>7. Click "Attach Existing Policies Directly"</p><p>8. Search for "beanstalk"</p><p>9. Tick the box next to "AWSElasticBeanstalkFullAccess"</p><p>10. Click "Next:Tags"</p><p>11. Click "Next:Review"</p><p>12. Click "Create user"</p><p>13. Copy and / or download the <em>Access Key ID</em> and <em>Secret Access Key</em> to use in the Travis Variable Setup.</p><p><strong>Travis Variable Setup</strong></p><p>1. Go to your Travis Dashboard and find the project repository for the application we are working on.</p><p>2. On the repository page, click "More Options" and then "Settings"</p><p>3. Create an <em>AWS_ACCESS_KEY</em> variable and paste your IAM access key from step #13 above.</p><p>4. Create an <em>AWS_SECRET_KEY</em> variable and paste your IAM secret key from step #13 above.</p><p><strong>Deploying App</strong></p><p>1. Make a small change to your src/App.js file in the greeting text.</p><p>2. In the project root, in your terminal run:</p><pre class="prettyprint linenums">git add.
git commit -m “testing deployment"
git push origin master</pre><p>3. Go to your Travis Dashboard and check the status of your build.</p><p>4. The status should eventually return with a green checkmark and show "build passing"</p><p>5. Go to your AWS Elasticbeanstalk application</p><p>6. It should say "Elastic Beanstalk is updating your environment"</p><p>7. It should eventually show a green checkmark under "Health". You will now be able to access your application at the external URL provided under the environment name.</p>